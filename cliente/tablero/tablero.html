<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tablero Borrar</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js" integrity="sha512-N4kV7GkNv7QR7RX9YF/olywyIgIwNvfEe2nZtfyj73HdjCUkAfOBDbcuJ/cTaN04JKRnw1YG1wnUyNKMsNgg3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>
<body>
    <script src="Tablero.js"></script>
<script>
    const MargenTablero = 20
    let regulador_velocidad_teclas = 0
    function setup() {
        createCanvas(400, 800);  // Crear un lienzo de 400x800 p√≠xeles
        tablero = new Tablero()
        tetrimino = new Tetrimino()
        resizeCanvas(
        tablero.ancho+ 2 * MargenTablero,
        tablero.alto+  2 * MargenTablero) 

      }

    function draw(){
        background(245, 245, 220);
        tablero.dibujarTablero() 
        tetrimino.dibujarTetrimino()
        movEventsTetris()
        }
        function moverIzquierda() {
            tetrimino.posicion.x--;
            }

        function moverDerecha() {
            tetrimino.posicion.x++;
            }

         function moverAbajo() {
            tetrimino.posicion.y++;
            }

            
        function movEventsTetris() {
           
            if(millis() - regulador_velocidad_teclas < 125){
                 return
             }
             regulador_velocidad_teclas = millis();

           if((keyIsDown)(LEFT_ARROW)){
               moverIzquierda();
             }
            if((keyIsDown)(RIGHT_ARROW)){
                moverDerecha();
            }

            if((keyIsDown)(DOWN_ARROW)){
                moverAbajo();
             }
            
        }


    class Tetrimino{
       constructor(){
        this.posicion = createVector(0,0)

       } 

       dibujarTetrimino(){
        push()
        fill("red")
        let coord = tablero.coordenada(this.posicion.x,this.posicion.y)
        rect(coord.x,coord.y,tablero.lado_celda)
        pop()
       }

       

    }
          
</script>    


    
</body>
</html>